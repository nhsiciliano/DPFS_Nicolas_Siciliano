<!DOCTYPE html>
<html lang="es">
<%- include('../partials/head', { title: 'Mi Perfil' , css: 'auth' }) %>

    <body>
        <%- include('../partials/header') %>

            <main class="container">
                <section class="auth-container"
                    style="display: flex; justify-content: center; align-items: center; min-height: 80vh; background-color: #f4f7f6;">
                    <div class="profile-card"
                        style="width: 100%; max-width: 450px; background: white; border-radius: 20px; box-shadow: 0 10px 25px rgba(0,0,0,0.05); overflow: hidden; transition: transform 0.3s ease;">

                        <div class="profile-header"
                            style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); padding: 3rem 2rem; text-align: center; color: white;">
                            <div class="profile-img-container"
                                style="position: relative; width: 120px; height: 120px; margin: 0 auto 1.5rem; border-radius: 50%; padding: 4px; background: rgba(255,255,255,0.2);">
                                <img src="/img/users/<%= user.image %>" alt="<%= user.first_name %>"
                                    style="width: 100%; height: 100%; border-radius: 50%; object-fit: cover; border: 4px solid white;">
                            </div>
                            <h2 style="margin: 0; font-size: 1.8rem; font-weight: 700; letter-spacing: 0.5px;">
                                <%= user.first_name %>
                                    <%= user.last_name %>
                            </h2>
                            <p style="margin: 0.5rem 0 0; opacity: 0.9; font-size: 0.95rem;">
                                <%= user.email %>
                            </p>
                            <% if (user.role_id===1) { %>
                                <span
                                    style="display: inline-block; background: rgba(255,255,255,0.2); padding: 4px 12px; border-radius: 20px; font-size: 0.8rem; margin-top: 1rem; text-transform: uppercase; letter-spacing: 1px;">Administrador</span>
                                <% } %>
                        </div>

                        <div class="profile-body" style="padding: 2rem;">
                            <div class="user-actions" style="display: flex; flex-direction: column; gap: 1rem;">
                                <% if (user.role_id===1) { %>
                                    <a href="/products/create" class="btn btn-primary"
                                        style="background: #764ba2; border: none; padding: 12px; border-radius: 8px; font-weight: 600; text-align: center; color: white; text-decoration: none; transition: background 0.3s; box-shadow: 0 4px 6px rgba(118, 75, 162, 0.3);">
                                        <i class="fas fa-plus-circle" style="margin-right: 8px;"></i>Crear Nuevo
                                        Producto
                                    </a>
                                    <% } %>

                                        <a href="/users/edit/<%= user.id %>" class="btn btn-secondary"
                                            style="background: white; border: 2px solid #e0e0e0; padding: 12px; border-radius: 8px; font-weight: 600; text-align: center; color: #333; text-decoration: none; transition: all 0.3s;">
                                            <i class="fas fa-user-edit" style="margin-right: 8px;"></i>Editar Perfil
                                        </a>

                                        <a href="/users/logout" class="btn btn-danger"
                                            style="background: #fff5f5; border: 1px solid #fed7d7; padding: 12px; border-radius: 8px; font-weight: 600; text-align: center; color: #e53e3e; text-decoration: none; transition: all 0.3s; margin-top: 1rem;">
                                            <i class="fas fa-sign-out-alt" style="margin-right: 8px;"></i>Cerrar Sesi√≥n
                                        </a>
                            </div>
                        </div>
                    </div>
                </section>
            </main>

            <%- include('../partials/footer') %>
    </body>

</html>